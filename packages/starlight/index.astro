---
import type { InferGetStaticPropsType } from 'astro';
import { generateRouteData } from './utils/route-data';
import { paths } from './utils/routing';

import Page from './components/Page.astro';

export const prerender = true;

export async function getStaticPaths() {
	return paths;
}

type Props = InferGetStaticPropsType<typeof getStaticPaths>;
const entry = Astro.props.entry;
const { Content, headings } = await entry.render();
const route = generateRouteData({ props: { ...Astro.props, headings }, url: Astro.url });
---

<Page {...route}><Content frontmatter={entry.data} /></Page>
